function articleAppController(t){t.response=null,t.text=null,t.article=null,t.mode="link",t.setMode=function(o){t.mode=o},t.coloring=null,t.setColoring=function(o){t.coloring=o},t.updateMood=function(o){t.mood=o},t.updateArticle=function(o){t.article=o},t.clear=function(){t.mood=null,t.text=null,t.article=null,t.coloring=null,t.$broadcast("clear")}}function getMoodFactory(t,o,e,n){return function(r,l){var i=o.defer();return e({url:t+l,method:"POST",data:n({text:r})}).then(function(t){i.resolve(t.data)},function(t){i.reject(t)}),i.promise}}function readArticleFactory(t,o,e){return function(n){var r=t.defer();return o({url:e+"/read",method:"GET",headers:{Accept:"text/plain"},params:{url:n},paramSerializer:"$httpParamSerializerJQLike",transformResponse:function(t){return t}}).then(function(t){r.resolve(t.data)},function(t){r.reject(t)}),r.promise}}function textBasedController(t,o,e){t.submit=function(){t.loading=!0,o(t.text,"/tone").then(function(o){t.updateMood(getMood(o)),t.setColoring(produceToneColoring(o)),e("mood")})["finally"](function(){t.loading=!1})},t.$on("clear",function(){t.text=null})}function urlBasedController(t,o,e,n){t.submit=function(){t.loading=!0,o(t.url).then(function(o){return t.updateArticle(o),e(o,"/tone")}).then(function(o){var e=getMood(o);t.updateMood(e),t.setColoring(produceToneColoring(o)),n("mood")})["finally"](function(){t.loading=!1})},t.$on("clear",function(){t.url=null})}function wordColorDirective(){function t(t,o,e){function n(t){for(var e=o.html().split(" "),n=0;n<e.length;n++)e[n]in t.words&&(e[n]='<span style="color: '+t.words[e[n]]+';">'+e[n]+"</span>");o.html(e.join(" "))}t.$watch(e.colorWords,function(t){t&&t.words&&n(t)})}return{link:t}}function setClassAtTopDirective(t){var o=angular.element(t);return{restrict:"A",link:function(t,e,n){var r=n.setClassAtTop,l=e.offset().top,i=!1;o.on("scroll",function(){i||(l=e.offset().top),o.scrollTop()>=l?(e.addClass(r),i=!0):(e.removeClass(r),i=!1)})}}}!function(){var t=angular.module("madeye",["hc.marked","angularSpinner"]);t.config(function(t){t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"}),t.value("server","http://localhost:3000"),t.filter("htmlToPlaintext",function(){return function(t){return angular.element(t).text()}}),t.factory("analyze",getMoodFactory),t.factory("readArticle",readArticleFactory),t.controller("article-app",articleAppController),t.controller("text-based",textBasedController),t.controller("url-based",urlBasedController),t.directive("colorWords",wordColorDirective),t.directive("setClassAtTop",setClassAtTopDirective)}();